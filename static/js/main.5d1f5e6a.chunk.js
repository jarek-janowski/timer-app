(this["webpackJsonptimer-app"]=this["webpackJsonptimer-app"]||[]).push([[0],{21:function(e,t,n){},22:function(e,t,n){},23:function(e,t,n){},27:function(e,t,n){},28:function(e,t,n){},29:function(e,t,n){},30:function(e,t,n){},31:function(e,t,n){},32:function(e,t,n){"use strict";n.r(t);var i,a,s,o,c,r,l,u,d,h,m=n(1),j=n(13),b=n.n(j),p=(n(21),n(4)),f=n(5),g=n(8),O=n(7),v=n(2),x=(n(22),n(23),n(3)),T=n(0),S=x.b.div(i||(i=Object(v.a)(["\n        ",";\n"])),(function(e){return e.blink&&Object(x.a)(a||(a=Object(v.a)(["\n            animation: blink 2s linear infinite;\n            @keyframes blink {  \n                50% { opacity: 0.6; }\n            }\n        "])))})),N=function(e){var t=e.percent,n=e.paused;return Object(T.jsx)(S,{blink:n,className:"progress-bar",children:Object(T.jsx)("div",{className:"progress-bar__inside",style:{width:"".concat(t,"%")}})})},_=(n(27),x.b.p(s||(s=Object(v.a)(["\n        \n    ",";\n    ",";\n    "])),(function(e){return e.$blink&&Object(x.a)(o||(o=Object(v.a)(["\n        animation: blink 2s linear infinite;\n        @keyframes blink {  \n            50% { opacity: 0.6; }\n        }\n    "])))}),(function(e){return e.$scale&&Object(x.a)(c||(c=Object(v.a)(["\n        animation: scale 2s linear infinite;\n        @keyframes scale {  \n            50% { font-size: 36px; }\n        }\n    "])))}))),I=function(e){var t=e.hoursLeft,n=e.minutesLeft,i=e.secondsLeft,a=e.paused,s=t>9?t:"0".concat(t),o=Math.floor(n%60),c=o>9?o:"0".concat(o),r=i>9?i:"0".concat(i);return Object(T.jsx)(_,{$blink:a,$scale:0===n&&i<30&&0!==i&&!a,className:"clock",children:t||i||n?"".concat(s,":").concat(c,":").concat(r):"Koniec"})},k=x.b.button(r||(r=Object(v.a)(["\n        ",";\n        ",";\n            "])),(function(e){return e.red&&Object(x.a)(l||(l=Object(v.a)(["\n                background: #EF233C;\n            "])))}),(function(e){return e.lightpurple&&Object(x.a)(u||(u=Object(v.a)(["\n                background: #7d889b;\n            "])))})),w=function(e){var t=e.isRunning,n=e.isPaused,i=e.pausesCount,a=e.title,s=e.minutesLeft,o=e.secondsLeft,c=e.hoursLeft,r=e.progressInPercent,l=e.stop,u=e.pause;return Object(T.jsxs)("section",{className:"timebox",children:[Object(T.jsx)("h2",{className:"timebox__heading",children:a}),Object(T.jsx)(I,{blur:!n,paused:n,minutesLeft:s,secondsLeft:o,hoursLeft:c}),Object(T.jsx)(N,{minutesLeft:s,secondsLeft:o,paused:n,percent:r}),Object(T.jsxs)("div",{className:"timebox__button-wrapper",children:[Object(T.jsx)(k,{className:"timebox__button",onClick:l,disabled:!t,lightpurple:!t,children:"Resetuj"}),Object(T.jsx)(k,{className:"timebox__button",onClick:u,disabled:!t||0===o,lightpurple:!t||0===o&&0===s,red:n,children:n?"Wzn\xf3w":"Pauza"})]}),Object(T.jsxs)("span",{className:"timebox__pauses",children:["Liczba przerw: ",Object(T.jsx)("span",{children:i})]})]})},y=(n(28),n(11)),C=(n(29),function(e){var t=e.jsonParseTitle,n=e.jsonParseTime,i=e.clearLocalStorage,a=t&&t.reduce((function(e,t){return[t].concat(Object(y.a)(e))}),[]).slice(0,3).map((function(e,t){return Object(T.jsx)("li",{children:e},t)})),s=n&&n.reduce((function(e,t){return[t].concat(Object(y.a)(e))}),[]).slice(0,3).map((function(e,t){var n=e.slice(0,3);if(n>59){var i=(n/60).toFixed(0),a=n%60;return Object(T.jsxs)("li",{children:[i,"g ",a,"min"]},t)}return Object(T.jsxs)("li",{children:[n<1?"<1":n,"min"]},t)}));return Object(T.jsxs)("section",{className:"history",children:[Object(T.jsx)("h2",{className:"history__heading",children:"Ostatnie trzy zadania"}),t?Object(T.jsxs)(T.Fragment,{children:[Object(T.jsxs)("div",{className:"history-wrapper",children:[Object(T.jsxs)("ul",{className:"history-list",children:[Object(T.jsx)("h3",{className:"history-list__heading",children:"Nazwa"}),a]}),Object(T.jsxs)("ul",{className:"history-list",children:[Object(T.jsx)("h3",{className:"history-list__heading",children:"Czas"}),s]})]}),Object(T.jsx)("button",{onClick:i,className:"history__clear-button",children:"Wyczy\u015b\u0107 histori\u0119"})]}):Object(T.jsx)("p",{className:"special",children:"Jeszcze nic nie zrobi\u0142e\u015b. Wpisz swoje pierwsze zadanie!"})]})}),M=x.b.input(d||(d=Object(v.a)(["\n",";\n"])),(function(e){return e.redBorder&&Object(x.a)(h||(h=Object(v.a)(["\n    border: 1px solid #D90429;\n"])))})),z=function(e){var t=e.title,n=e.totalTimeInMinutes,i=e.titleChange,a=e.totalTimeInMinutesChange,s=e.startOnClick,o=e.isRunning,c=e.validationTitle,r=e.validationMinutes,l=e.jsonParseTitle,u=e.jsonParseTime,d=e.clearLocalStorage;return Object(T.jsxs)("section",{className:"timebox-editor",children:[Object(T.jsxs)("label",{className:"timebox-editor__title",children:["Co chcesz zrobi\u0107?:",Object(T.jsx)(M,{className:"timebox-editor__input",value:t,type:"text",onChange:i,maxLength:"25",redBorder:!c})]}),Object(T.jsxs)("label",{className:"timebox-editor__title",children:["Ile minut?:",Object(T.jsx)(M,{className:"timebox-editor__input",value:n,type:"number",onChange:a,redBorder:!r})]}),Object(T.jsx)("button",{onClick:s,className:"timebox-editor__button",disabled:o,children:"Zacznij"}),Object(T.jsx)(C,{titleChange:i,jsonParseTitle:l,jsonParseTime:u,clearLocalStorage:d})]})},L=n.p+"static/media/alarm.7059255a.mp3",P=(n(30),function(e){var t=e.stop,n=e.title,i=e.totalTimeInMinutes,a=e.pausesCount,s=e.extend;return Object(T.jsxs)("section",{className:"end-of-time",children:[Object(T.jsxs)("div",{className:"info",children:[Object(T.jsx)("h3",{className:"info__title",children:n}),Object(T.jsx)("p",{className:"info__time",children:i<1?"<1min":"".concat(i,"min")}),Object(T.jsxs)("p",{className:"info__pauses",children:["Liczba przerw: ",a]})]}),Object(T.jsxs)("div",{className:"stop",children:[Object(T.jsx)("h2",{className:"stop__title",children:"Czas up\u0142yn\u0105\u0142!"}),Object(T.jsx)("button",{className:"stop__button",onClick:t,children:"OK"}),Object(T.jsx)("button",{className:"stop__button",onClick:s,children:"Wyd\u0142u\u017c o 5 min"})]})]})}),W=new Audio(L);W.loop=!0;var R=function(e){Object(g.a)(n,e);var t=Object(O.a)(n);function n(){var e;Object(p.a)(this,n);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={title:"",totalTimeInMinutes:"",isRunning:!1,isPaused:!1,pausesCount:0,elapsedTimeInSeconds:0,validTitle:!0,validMinutes:!0,clear:!1},e.handleExtendBy5Min=function(){e.setState({elapsedTimeInSeconds:0,totalTimeInMinutes:5}),W.pause(),W.currentTime=0,e.startTimer()},e.handleTitleChange=function(t){e.setState({title:t.target.value})},e.handleTotalTimeInMinutesChange=function(t){e.setState({totalTimeInMinutes:t.target.value})},e.handleStart=function(){var t=e.state,n=t.title,i=t.totalTimeInMinutes;if(n.length<1&&i.length<1)alert("Uzupe\u0142nij pola"),e.setState({validTitle:!1,validMinutes:!1});else if(n.length>1&&i.length<1)alert("Uzupe\u0142nij pole z minutami"),e.setState({validTitle:!0,validMinutes:!1});else if(n.length<1&&i.length>=1)alert("Uzupe\u0142nij pole z celem"),e.setState({validTitle:!1,validMinutes:!0});else if(n.length>=1&&i>0){var a=i.slice(0,3);e.setState({isRunning:!0,totalTimeInMinutes:a}),e.startTimer(),e.saveInLocalStorage(n,i)}},e.handleStop=function(){e.setState({title:"",totalTimeInMinutes:"",isRunning:!1,isPaused:!1,pausesCount:0,elapsedTimeInSeconds:0,validTitle:!0,validMinutes:!0}),e.stopTimer(),W.pause(),W.currentTime=0},e.handleTogglePause=function(){e.setState((function(t){var n=!t.isPaused;return n?e.stopTimer():e.startTimer(),{isPaused:n,pausesCount:n?t.pausesCount+1:t.pausesCount}}))},e.stopTimer=function(){window.clearInterval(e.intervalID)},e.saveInLocalStorage=function(e,t){var n=[],i=[];n=JSON.parse(localStorage.getItem("title"))||[],i=JSON.parse(localStorage.getItem("time"))||[],n.push(e),i.push(t),localStorage.setItem("title",JSON.stringify(n)),localStorage.setItem("time",JSON.stringify(i))},e.clearLocalStorage=function(){e.setState({clear:!e.state.clear}),localStorage.clear()},e}return Object(f.a)(n,[{key:"componentDidUpdate",value:function(){var e=this.state,t=e.elapsedTimeInSeconds;t>=60*e.totalTimeInMinutes&&t>0&&(this.stopTimer(),W.play())}},{key:"startTimer",value:function(){var e=this;this.intervalID=window.setInterval((function(){e.setState((function(e){return{elapsedTimeInSeconds:e.elapsedTimeInSeconds+.1}}))}),100)}},{key:"render",value:function(){var e=this.state,t=e.isRunning,n=e.isPaused,i=e.pausesCount,a=e.elapsedTimeInSeconds,s=e.title,o=e.totalTimeInMinutes,c=e.validTitle,r=e.validMinutes,l=60*o,u=l-Math.floor(a),d=Math.floor(u/60),h=Math.floor(u%60),m=Math.floor(d/60),j=a/l*100,b=JSON.parse(localStorage.getItem("title")),p=JSON.parse(localStorage.getItem("time"));return Object(T.jsxs)(T.Fragment,{children:[t?null:Object(T.jsx)(z,{title:s,totalTimeInMinutes:o,titleChange:this.handleTitleChange,totalTimeInMinutesChange:this.handleTotalTimeInMinutesChange,startOnClick:this.handleStart,isRunning:t,validationTitle:c,validationMinutes:r,jsonParseTitle:b,jsonParseTime:p,clearLocalStorage:this.clearLocalStorage}),t?Object(T.jsx)(w,{isRunning:t,isPaused:n,pausesCount:i,elapsedTimeInSeconds:a,title:s,totalTimeInMinutes:o,minutesLeft:d,secondsLeft:h,hoursLeft:m,progressInPercent:j,stop:this.handleStop,pause:this.handleTogglePause}):null,a>=60*o&&a>0?Object(T.jsx)(P,{stop:this.handleStop,title:s,totalTimeInMinutes:o,pausesCount:i,extend:this.handleExtendBy5Min}):null]})}}]),n}(m.Component),J=(n(31),function(e){Object(g.a)(n,e);var t=Object(O.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(f.a)(n,[{key:"render",value:function(){return Object(T.jsxs)("div",{className:"app",children:[Object(T.jsx)("h1",{children:"timer-app"}),Object(T.jsx)(R,{})]})}}]),n}(m.Component)),B=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function U(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}b.a.render(Object(T.jsx)(J,{}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/timer-app",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/timer-app","/service-worker.js");B?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var i=n.headers.get("content-type");404===n.status||null!=i&&-1===i.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):U(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):U(t,e)}))}}()}},[[32,1,2]]]);
//# sourceMappingURL=main.5d1f5e6a.chunk.js.map