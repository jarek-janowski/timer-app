(this["webpackJsonptimer-app"]=this["webpackJsonptimer-app"]||[]).push([[0],{21:function(e,t,n){},22:function(e,t,n){},23:function(e,t,n){},27:function(e,t,n){},28:function(e,t,n){},29:function(e,t,n){},30:function(e,t,n){},31:function(e,t,n){},32:function(e,t,n){"use strict";n.r(t);var i,a,s,c,l,r,o,u,d,j,m=n(1),b=n(13),h=n.n(b),p=(n(21),n(4)),O=n(5),f=n(8),g=n(7),x=n(2),v=(n(22),n(23),n(3)),T=n(0),S=v.b.div(i||(i=Object(x.a)(["\n        ",";\n"])),(function(e){return e.blink&&Object(v.a)(a||(a=Object(x.a)(["\n            animation: blink 2s linear infinite;\n            @keyframes blink {  \n                50% { opacity: 0.6; }\n            }\n        "])))})),_=function(e){var t=e.percent,n=e.paused;return Object(T.jsx)(S,{blink:n,className:"progress-bar",children:Object(T.jsx)("div",{className:"progress-bar__inside",style:{width:"".concat(t,"%")}})})},I=(n(27),v.b.p(s||(s=Object(x.a)(["\n        \n    ",";\n    ",";\n    "])),(function(e){return e.$blink&&Object(v.a)(c||(c=Object(x.a)(["\n        animation: blink 2s linear infinite;\n        @keyframes blink {  \n            50% { opacity: 0.6; }\n        }\n    "])))}),(function(e){return e.$scale&&Object(v.a)(l||(l=Object(x.a)(["\n        animation: scale 2s linear infinite;\n        @keyframes scale {  \n            50% { font-size: 36px; }\n        }\n    "])))}))),N=function(e){var t=e.hoursLeft,n=e.minutesLeft,i=e.secondsLeft,a=e.paused,s=t>9?t:"0".concat(t),c=Math.floor(n%60),l=c>9?c:"0".concat(c),r=i>9?i:"0".concat(i);return Object(T.jsx)(I,{$blink:a,$scale:0===n&&i<30&&0!==i&&!a,className:"clock",children:t||i||n?"".concat(s,":").concat(l,":").concat(r):"Koniec"})},C=v.b.button(r||(r=Object(x.a)(["\n        ",";\n        ",";\n            "])),(function(e){return e.red&&Object(v.a)(o||(o=Object(x.a)(["\n                background: #EF233C;\n            "])))}),(function(e){return e.lightpurple&&Object(v.a)(u||(u=Object(x.a)(["\n                background: #7d889b;\n            "])))})),y=function(e){var t=e.isRunning,n=e.isPaused,i=e.pausesCount,a=e.title,s=e.minutesLeft,c=e.secondsLeft,l=e.hoursLeft,r=e.progressInPercent,o=e.stop,u=e.pause;return Object(T.jsxs)("section",{className:"timebox",children:[Object(T.jsx)("h2",{className:"timebox__heading",children:a}),Object(T.jsx)(N,{blur:!n,paused:n,minutesLeft:s,secondsLeft:c,hoursLeft:l}),Object(T.jsx)(_,{minutesLeft:s,secondsLeft:c,paused:n,percent:r}),Object(T.jsxs)("div",{className:"timebox__button-wrapper",children:[Object(T.jsx)(C,{className:"timebox__button",onClick:o,disabled:!t,lightpurple:!t,children:"Resetuj"}),Object(T.jsx)(C,{className:"timebox__button",onClick:u,disabled:!t||0===c,lightpurple:!t||0===c&&0===s,red:n,children:n?"Wzn\xf3w":"Pauza"})]}),Object(T.jsxs)("span",{className:"timebox__pauses",children:["Liczba przerw: ",Object(T.jsx)("span",{children:i})]})]})},M=(n(28),n(11)),k=(n(29),function(e){var t=e.jsonParseTitle,n=e.jsonParseTime,i=e.clearLocalStorage,a=t&&t.reduce((function(e,t){return[t].concat(Object(M.a)(e))}),[]).slice(0,3).map((function(e,t){return Object(T.jsx)("li",{children:e},t)})),s=n&&n.reduce((function(e,t){return[t].concat(Object(M.a)(e))}),[]).slice(0,3).map((function(e,t){var n=e.slice(0,3);if(n>59){var i=(n/60).toFixed(0),a=n%60;return Object(T.jsxs)("li",{children:[i,"g ",a,"min"]},t)}return Object(T.jsxs)("li",{children:[n<1?"<1":n,"min"]},t)}));return Object(T.jsxs)("section",{className:"history",children:[Object(T.jsx)("h2",{className:"history__heading",children:"Ostatnie trzy zadania"}),t?Object(T.jsxs)(T.Fragment,{children:[Object(T.jsxs)("div",{className:"history-wrapper",children:[Object(T.jsxs)("ul",{className:"history-list",children:[Object(T.jsx)("h3",{className:"history-list__heading",children:"Nazwa"}),a]}),Object(T.jsxs)("ul",{className:"history-list",children:[Object(T.jsx)("h3",{className:"history-list__heading",children:"Czas"}),s]})]}),Object(T.jsx)("button",{onClick:i,className:"history__clear-button",children:"Wyczy\u015b\u0107 histori\u0119"})]}):Object(T.jsx)("p",{className:"special",children:"Jeszcze nic nie zrobi\u0142e\u015b. Wpisz swoje pierwsze zadanie!"})]})}),z=v.b.input(d||(d=Object(x.a)(["\n",";\n"])),(function(e){return e.redBorder&&Object(v.a)(j||(j=Object(x.a)(["\n    border: 1px solid #D90429;\n"])))})),L=function(e){var t=e.title,n=e.totalTimeInMinutes,i=e.titleChange,a=e.totalTimeInMinutesChange,s=e.startOnClick,c=e.isRunning,l=e.validationTitle,r=e.validationMinutes,o=e.jsonParseTitle,u=e.jsonParseTime,d=e.clearLocalStorage;return Object(T.jsxs)("section",{className:"timebox-editor",children:[Object(T.jsxs)("label",{className:"timebox-editor__title",children:["Co chcesz zrobi\u0107?:",Object(T.jsx)(z,{className:"timebox-editor__input",value:t,type:"text",onChange:i,maxLength:"25",redBorder:!l})]}),Object(T.jsxs)("label",{className:"timebox-editor__title",children:["Ile minut?:",Object(T.jsx)(z,{className:"timebox-editor__input",value:n,type:"number",onChange:a,redBorder:!r})]}),Object(T.jsx)("button",{onClick:s,className:"timebox-editor__button",disabled:c,children:"Zacznij"}),Object(T.jsx)(k,{titleChange:i,jsonParseTitle:o,jsonParseTime:u,clearLocalStorage:d})]})},P=n.p+"static/media/alarm.7059255a.mp3",w=(n(30),function(e){var t=e.stop,n=e.title,i=e.totalTimeInMinutes,a=e.pausesCount,s=e.extend;return Object(T.jsxs)("section",{className:"end-of-time",children:[Object(T.jsxs)("div",{className:"info",children:[Object(T.jsx)("h3",{className:"info__title",children:n}),Object(T.jsx)("p",{className:"info__time",children:i<1?"<1min":"".concat(i,"min")}),Object(T.jsxs)("p",{className:"info__pauses",children:["Liczba przerw: ",a]})]}),Object(T.jsxs)("div",{className:"stop",children:[Object(T.jsx)("h2",{className:"stop__title",children:"Czas up\u0142yn\u0105\u0142!"}),Object(T.jsx)("button",{className:"stop__button",onClick:t,children:"OK"}),Object(T.jsx)("button",{className:"stop__button",onClick:s,children:"Wyd\u0142u\u017c o 5 min"})]})]})}),J=new Audio(P);J.loop=!0;var R=function(e){Object(f.a)(n,e);var t=Object(g.a)(n);function n(){var e;Object(p.a)(this,n);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={title:"",totalTimeInMinutes:"",isRunning:!1,isPaused:!1,pausesCount:0,elapsedTimeInSeconds:0,validTitle:!0,validMinutes:!0,clear:!1},e.handleExtendBy5Min=function(){e.setState({elapsedTimeInSeconds:0,totalTimeInMinutes:5}),J.pause(),J.currentTime=0,e.startTimer()},e.handleTitleChange=function(t){e.setState({title:t.target.value})},e.handleTotalTimeInMinutesChange=function(t){e.setState({totalTimeInMinutes:t.target.value})},e.handleStart=function(){var t=e.state,n=t.title,i=t.totalTimeInMinutes;if(n.length<1&&i.length<1)alert("Uzupe\u0142nij pola"),e.setState({validTitle:!1,validMinutes:!1});else if(n.length>1&&i.length<1)alert("Uzupe\u0142nij pole z minutami"),e.setState({validTitle:!0,validMinutes:!1});else if(n.length<1&&i.length>=1)alert("Uzupe\u0142nij pole z celem"),e.setState({validTitle:!1,validMinutes:!0});else if(n.length>=1&&i>0){var a=i.slice(0,3);e.setState({isRunning:!0,totalTimeInMinutes:a}),e.startTimer(),e.saveInLocalStorage(n,i)}},e.handleStop=function(){e.setState({title:"",totalTimeInMinutes:"",isRunning:!1,isPaused:!1,pausesCount:0,elapsedTimeInSeconds:0,validTitle:!0,validMinutes:!0}),e.stopTimer(),J.pause(),J.currentTime=0},e.handleTogglePause=function(){e.setState((function(t){var n=!t.isPaused;return n?e.stopTimer():e.startTimer(),{isPaused:n,pausesCount:n?t.pausesCount+1:t.pausesCount}}))},e.stopTimer=function(){window.clearInterval(e.intervalID)},e.saveInLocalStorage=function(e,t){var n=[],i=[];n=JSON.parse(localStorage.getItem("title"))||[],i=JSON.parse(localStorage.getItem("time"))||[],n.push(e),i.push(t),localStorage.setItem("title",JSON.stringify(n)),localStorage.setItem("time",JSON.stringify(i))},e.clearLocalStorage=function(){e.setState({clear:!e.state.clear}),localStorage.clear()},e}return Object(O.a)(n,[{key:"componentDidUpdate",value:function(){var e=this.state,t=e.elapsedTimeInSeconds;t>=60*e.totalTimeInMinutes&&t>0&&(this.stopTimer(),J.play())}},{key:"startTimer",value:function(){var e=this;this.intervalID=window.setInterval((function(){e.setState((function(e){return{elapsedTimeInSeconds:e.elapsedTimeInSeconds+.1}}))}),100)}},{key:"render",value:function(){var e=this.state,t=e.isRunning,n=e.isPaused,i=e.pausesCount,a=e.elapsedTimeInSeconds,s=e.title,c=e.totalTimeInMinutes,l=e.validTitle,r=e.validMinutes,o=60*c,u=o-Math.floor(a),d=Math.floor(u/60),j=Math.floor(u%60),m=Math.floor(d/60),b=a/o*100,h=JSON.parse(localStorage.getItem("title")),p=JSON.parse(localStorage.getItem("time"));return Object(T.jsxs)(T.Fragment,{children:[t?null:Object(T.jsx)(L,{title:s,totalTimeInMinutes:c,titleChange:this.handleTitleChange,totalTimeInMinutesChange:this.handleTotalTimeInMinutesChange,startOnClick:this.handleStart,isRunning:t,validationTitle:l,validationMinutes:r,jsonParseTitle:h,jsonParseTime:p,clearLocalStorage:this.clearLocalStorage}),t?Object(T.jsx)(y,{isRunning:t,isPaused:n,pausesCount:i,elapsedTimeInSeconds:a,title:s,totalTimeInMinutes:c,minutesLeft:d,secondsLeft:j,hoursLeft:m,progressInPercent:b,stop:this.handleStop,pause:this.handleTogglePause}):null,a>=60*c&&a>0?Object(T.jsx)(w,{stop:this.handleStop,title:s,totalTimeInMinutes:c,pausesCount:i,extend:this.handleExtendBy5Min}):null]})}}]),n}(m.Component),B=(n(31),function(e){Object(f.a)(n,e);var t=Object(g.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(O.a)(n,[{key:"render",value:function(){return Object(T.jsxs)("div",{className:"app",children:[Object(T.jsx)("h1",{children:"timer-app"}),Object(T.jsx)(R,{})]})}}]),n}(m.Component));h.a.render(Object(T.jsx)(B,{}),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.eac2555c.chunk.js.map